<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸŽµ Premium Music Player</title>
    
    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/dark-theme.css" id="theme-style">
    
    <!-- PWA -->
    <link rel="manifest" href="/static/manifest.json">
    <meta name="theme-color" content="#8B5CF6">
</head>
<body>
    <div class="container-fluid">
        <!-- Navigation -->
        <nav class="navbar">
            <div class="nav-brand">
                <i class="fas fa-music"></i>
                <span>Premium Player</span>
            </div>
            
            <div class="nav-search">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="search-input" placeholder="Search songs, artists, albums...">
                    <button id="voice-search" class="icon-btn">
                        <i class="fas fa-microphone"></i>
                    </button>
                </div>
            </div>
            
            <div class="nav-actions">
                <button class="icon-btn" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="icon-btn" id="quality-toggle" title="Quality">
                    <i class="fas fa-hd"></i>
                </button>
                <button class="icon-btn" id="settings-btn">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </nav>

        <div class="main-layout">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="user-section">
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="user-info">
                        <h4>Music Lover</h4>
                        <p>Premium Member</p>
                    </div>
                </div>

                <nav class="sidebar-nav">
                    <a href="#" class="nav-item active">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-compact-disc"></i>
                        <span>Now Playing</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-music"></i>
                        <span>Playlists</span>
                        <span class="badge">12</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-download"></i>
                        <span>Downloads</span>
                        <span class="badge" id="download-count">0</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-history"></i>
                        <span>History</span>
                    </a>
                    <a href="#" class="nav-item">
                        <i class="fas fa-heart"></i>
                        <span>Favorites</span>
                        <span class="badge">47</span>
                    </a>
                </nav>

                <div class="playlist-section">
                    <h5>Your Playlists</h5>
                    <div id="playlist-container" class="playlist-container">
                        <!-- Dynamic playlists -->
                    </div>
                    <button class="btn-add-playlist">
                        <i class="fas fa-plus"></i> New Playlist
                    </button>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="content">
                <!-- Player Section -->
                <div class="player-card">
                    <div class="player-header">
                        <h2>Now Playing</h2>
                        <div class="player-actions">
                            <button class="btn-icon" id="visualizer-toggle">
                                <i class="fas fa-wave-square"></i>
                            </button>
                            <button class="btn-icon" id="lyrics-toggle">
                                <i class="fas fa-align-left"></i>
                            </button>
                            <button class="btn-icon" id="queue-toggle">
                                <i class="fas fa-list"></i>
                            </button>
                        </div>
                    </div>

                    <div class="player-body">
                        <div class="album-art-container">
                            <div class="album-art">
                                <img id="current-album-art" src="/static/assets/default-album.jpg" alt="Album Art">
                                <div class="vinyl-record"></div>
                                <div class="playback-indicator"></div>
                            </div>
                            
                            <div class="song-info">
                                <h1 id="current-title">Select a Song</h1>
                                <p id="current-artist">Artist</p>
                                <div class="song-meta">
                                    <span id="current-album">Album</span>
                                    <span id="current-year">2024</span>
                                    <span id="current-genre">Genre</span>
                                </div>
                            </div>
                        </div>

                        <!-- Progress Bar -->
                        <div class="progress-container">
                            <span id="current-time">0:00</span>
                            <div class="progress-bar">
                                <div class="progress" id="song-progress"></div>
                                <input type="range" id="seek-slider" min="0" max="100" value="0" class="seek-slider">
                            </div>
                            <span id="total-time">0:00</span>
                        </div>

                        <!-- Controls -->
                        <div class="player-controls">
                            <button class="control-btn" id="shuffle-btn">
                                <i class="fas fa-random"></i>
                            </button>
                            <button class="control-btn" id="prev-btn">
                                <i class="fas fa-step-backward"></i>
                            </button>
                            <button class="control-btn play-btn" id="play-btn">
                                <i class="fas fa-play"></i>
                            </button>
                            <button class="control-btn" id="next-btn">
                                <i class="fas fa-step-forward"></i>
                            </button>
                            <button class="control-btn" id="repeat-btn">
                                <i class="fas fa-redo"></i>
                            </button>
                            
                            <div class="volume-control">
                                <button class="volume-btn" id="volume-btn">
                                    <i class="fas fa-volume-up"></i>
                                </button>
                                <input type="range" id="volume-slider" min="0" max="100" value="80" class="volume-slider">
                            </div>
                            
                            <div class="extra-controls">
                                <button class="extra-btn" id="download-btn" title="Download">
                                    <i class="fas fa-download"></i>
                                </button>
                                <button class="extra-btn" id="favorite-btn" title="Add to Favorites">
                                    <i class="far fa-heart"></i>
                                </button>
                                <button class="extra-btn" id="share-btn" title="Share">
                                    <i class="fas fa-share-alt"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Equalizer -->
                        <div class="equalizer" id="equalizer">
                            <canvas id="visualizer"></canvas>
                            <div class="eq-controls">
                                <input type="range" id="bass-slider" min="-12" max="12" value="0">
                                <input type="range" id="mid-slider" min="-12" max="12" value="0">
                                <input type="range" id="treble-slider" min="-12" max="12" value="0">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Search Results -->
                <div class="content-section">
                    <div class="section-header">
                        <h3>Search Results</h3>
                        <div class="filter-options">
                            <select id="sort-select">
                                <option value="relevance">Relevance</option>
                                <option value="date">Upload Date</option>
                                <option value="views">Views</option>
                                <option value="duration">Duration</option>
                            </select>
                            <select id="quality-select">
                                <option value="high">High Quality</option>
                                <option value="premium">Premium (320kbps)</option>
                                <option value="medium">Medium</option>
                                <option value="low">Low</option>
                            </select>
                        </div>
                    </div>
                    
                    <div id="search-results" class="results-grid">
                        <!-- Results will load here -->
                    </div>
                    
                    <div class="loading-spinner" id="loading-spinner">
                        <div class="spinner"></div>
                        <p>Loading music...</p>
                    </div>
                </div>

                <!-- Lyrics Panel -->
                <div class="lyrics-panel" id="lyrics-panel">
                    <div class="lyrics-header">
                        <h4>Lyrics</h4>
                        <button class="close-btn" id="close-lyrics">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="lyrics-content" id="lyrics-content">
                        <!-- Lyrics will appear here -->
                    </div>
                </div>
            </main>

            <!-- Queue Sidebar -->
            <aside class="queue-sidebar">
                <div class="queue-header">
                    <h4>Queue</h4>
                    <button class="icon-btn" id="clear-queue">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
                <div class="queue-list" id="queue-list">
                    <!-- Queue items -->
                </div>
                <div class="queue-stats">
                    <p><i class="fas fa-clock"></i> Total: <span id="queue-total">0:00</span></p>
                    <p><i class="fas fa-music"></i> Songs: <span id="queue-count">0</span></p>
                </div>
            </aside>
        </div>

        <!-- Notifications -->
        <div class="notifications-container" id="notifications">
            <!-- Notifications will appear here -->
        </div>

        <!-- Audio Element (Hidden) -->
        <audio id="audio-player" preload="auto" crossorigin="anonymous"></audio>
        
        <!-- Scripts -->
        <script src="https://cdn.jsdelivr.net/npm/howler@2.2.4/dist/howler.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
        <script src="/static/js/player.js"></script>
        <script src="/static/js/visualizer.js"></script>
        <script src="/static/js/lyrics.js"></script>
        
        <script>
            // PWA Service Worker
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('/static/js/sw.js');
            }
            
            // Initialize when DOM loads
            document.addEventListener('DOMContentLoaded', () => {
                window.musicPlayer = new PremiumMusicPlayer();
            });
        </script>
    </div>
</body>
</html>